{"ast":null,"code":"import AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as Permissions from 'expo-permissions';\nimport * as Notifications from 'expo-notifications';\nvar NOTIFICATION_KEY = 'MobileFlashcards:notifications';\nexport var clearLocalNotification = function clearLocalNotification() {\n  return AsyncStorage.removeItem(NOTIFICATION_KEY).then(Notifications.cancelAllScheduledNotificationsAsync());\n};\n\nvar createNotification = function createNotification() {\n  return {\n    title: \"It's Quiz time!\",\n    body: \"Hey! please Don't forget to practice today!\",\n    ios: {\n      sound: true\n    },\n    android: {\n      sound: true,\n      priority: 'high',\n      sticky: false,\n      vibrate: true\n    }\n  };\n};\n\nexport var setLocalNotification = function setLocalNotification() {\n  AsyncStorage.getItem(NOTIFICATION_KEY).then(JSON.parse).then(function (data) {\n    if (data === null) {\n      Permissions.askAsync(Permissions.NOTIFICATIONS).then(function (_ref) {\n        var status = _ref.status;\n\n        if (status === 'granted') {\n          Notifications.cancelAllScheduledNotificationsAsync();\n          var tomorrow = new Date();\n          tomorrow.setDate(tomorrow.getDate() + 1);\n          tomorrow.setHours(18);\n          tomorrow.setMinutes(0);\n          Notifications.scheduleNotificationAsync(createNotification(), {\n            time: tomorrow,\n            repeat: 'day'\n          });\n          AsyncStorage.setItem(NOTIFICATION_KEY, JSON.stringify(true));\n        }\n      });\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/User/Desktop/test/Mobile-FlashCard-React-Native-main3/utils/helpers.js"],"names":["AsyncStorage","Permissions","Notifications","NOTIFICATION_KEY","clearLocalNotification","removeItem","then","cancelAllScheduledNotificationsAsync","createNotification","title","body","ios","sound","android","priority","sticky","vibrate","setLocalNotification","getItem","JSON","parse","data","askAsync","NOTIFICATIONS","status","tomorrow","Date","setDate","getDate","setHours","setMinutes","scheduleNotificationAsync","time","repeat","setItem","stringify"],"mappings":"AACA,OAAOA,YAAP,MAA0B,2CAA1B;AACA,OAAO,KAAKC,WAAZ,MAA6B,kBAA7B;AACA,OAAO,KAAKC,aAAZ,MAA+B,oBAA/B;AAGA,IAAMC,gBAAgB,GAAG,gCAAzB;AAEA,OAAO,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AAC1C,SAAOJ,YAAY,CAACK,UAAb,CAAwBF,gBAAxB,EACJG,IADI,CACCJ,aAAa,CAACK,oCAAd,EADD,CAAP;AAED,CAHM;;AAKP,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/B,SAAO;AACLC,IAAAA,KAAK,EAAE,iBADF;AAELC,IAAAA,IAAI,EAAE,6CAFD;AAGLC,IAAAA,GAAG,EAAE;AACHC,MAAAA,KAAK,EAAE;AADJ,KAHA;AAMLC,IAAAA,OAAO,EAAE;AACPD,MAAAA,KAAK,EAAE,IADA;AAEPE,MAAAA,QAAQ,EAAE,MAFH;AAGPC,MAAAA,MAAM,EAAE,KAHD;AAIPC,MAAAA,OAAO,EAAE;AAJF;AANJ,GAAP;AAaD,CAdD;;AAgBA,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACxCjB,EAAAA,YAAY,CAACkB,OAAb,CAAqBf,gBAArB,EACGG,IADH,CACQa,IAAI,CAACC,KADb,EAEGd,IAFH,CAEQ,UAACe,IAAD,EAAU;AACd,QAAIA,IAAI,KAAK,IAAb,EAAmB;AACjBpB,MAAAA,WAAW,CAACqB,QAAZ,CAAqBrB,WAAW,CAACsB,aAAjC,EACGjB,IADH,CACQ,gBAAgB;AAAA,YAAbkB,MAAa,QAAbA,MAAa;;AACpB,YAAIA,MAAM,KAAK,SAAf,EAA0B;AACxBtB,UAAAA,aAAa,CAACK,oCAAd;AAEA,cAAIkB,QAAQ,GAAG,IAAIC,IAAJ,EAAf;AACAD,UAAAA,QAAQ,CAACE,OAAT,CAAiBF,QAAQ,CAACG,OAAT,KAAqB,CAAtC;AACAH,UAAAA,QAAQ,CAACI,QAAT,CAAkB,EAAlB;AACAJ,UAAAA,QAAQ,CAACK,UAAT,CAAoB,CAApB;AAEA5B,UAAAA,aAAa,CAAC6B,yBAAd,CACEvB,kBAAkB,EADpB,EAEE;AACEwB,YAAAA,IAAI,EAAEP,QADR;AAEEQ,YAAAA,MAAM,EAAE;AAFV,WAFF;AAQAjC,UAAAA,YAAY,CAACkC,OAAb,CAAqB/B,gBAArB,EAAuCgB,IAAI,CAACgB,SAAL,CAAe,IAAf,CAAvC;AACD;AACF,OApBH;AAqBD;AACF,GA1BH;AA2BD,CA5BM","sourcesContent":["\nimport AsyncStorage  from '@react-native-async-storage/async-storage'\nimport * as Permissions from 'expo-permissions';\nimport * as Notifications from 'expo-notifications';\n\n\nconst NOTIFICATION_KEY = 'MobileFlashcards:notifications'\n\nexport const clearLocalNotification = () => {\n  return AsyncStorage.removeItem(NOTIFICATION_KEY)\n    .then(Notifications.cancelAllScheduledNotificationsAsync())\n}\n\nconst createNotification = () => {\n  return {\n    title: \"It's Quiz time!\",\n    body: \"Hey! please Don't forget to practice today!\",\n    ios: {\n      sound: true\n    },\n    android: {\n      sound: true,\n      priority: 'high',\n      sticky: false,\n      vibrate: true\n    }\n  }\n}\n\nexport const setLocalNotification = () => {\n  AsyncStorage.getItem(NOTIFICATION_KEY)\n    .then(JSON.parse)\n    .then((data) => {\n      if (data === null) {\n        Permissions.askAsync(Permissions.NOTIFICATIONS)\n          .then(({ status }) => {\n            if (status === 'granted') {\n              Notifications.cancelAllScheduledNotificationsAsync()\n\n              let tomorrow = new Date()\n              tomorrow.setDate(tomorrow.getDate() + 1)\n              tomorrow.setHours(18)\n              tomorrow.setMinutes(0)\n\n              Notifications.scheduleNotificationAsync(\n                createNotification(),\n                {\n                  time: tomorrow,\n                  repeat: 'day'\n                }\n              )\n\n              AsyncStorage.setItem(NOTIFICATION_KEY, JSON.stringify(true))\n            }\n          })\n      }\n    })\n}\n"]},"metadata":{},"sourceType":"module"}